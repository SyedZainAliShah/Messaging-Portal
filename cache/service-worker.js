/* version: 1.1.29 */(function(){'use strict';function a(bt,_t){var wt=32,St=bt.length;if(St>wt){throw new Error('Invalid key length for '+bt+'. Must be <= '+wt)}var kt=/^[\w\-_\u0080-\uFFFF]+$/;if(!kt.exec(bt)){throw new Error('Invalid key '+bt)}var Rt=/^[\u0002\u0020-\uFFFF]+$/;if(!Rt.exec(_t)){throw new Error('Invalid value for '+bt)}}function y(){const bt=self.navigator&&self.navigator.userAgent;return bt&&(-1<bt.indexOf('Android')||-1<bt.indexOf('android'))?!1:!('image'in Notification.prototype)}Array.isArray||(Array.isArray=function(bt){return'[object Array]'===Object.prototype.toString.call(bt)});var b={cacheBuster:function(){for(var St,bt=0,_t='',wt='';16>bt;bt++)St=Math.floor(62*Math.random()),wt=10>St?St:String.fromCharCode(36>St?St+55:St+61),_t+=wt;return _t+','+Math.random()},validate:a,validateObj:function(bt){for(var _t in bt)bt.hasOwnProperty(_t)&&a(_t,bt[_t])},absorb:function(bt,_t){for(var wt in _t)_t.hasOwnProperty(wt)&&(bt[wt]=_t[wt])},absorbValid:function(bt,_t){for(var wt in _t)_t.hasOwnProperty(wt)&&(a(wt,_t[wt]),bt[wt]=_t[wt])},clone:function(bt){var _t={};for(var wt in bt)bt.hasOwnProperty(wt)&&(_t[wt]=bt[wt]);return _t},cloneValid:function(bt){var _t={};for(var wt in bt)bt.hasOwnProperty(wt)&&(a(wt,bt[wt]),_t[wt]=bt[wt]);return _t},time:new function(){this.newTime=function(){this.date=new Date,this.ts=Math.floor(this.date.getTime()/1e3),this.ms=this.date.getMilliseconds()},this.newTime()}},x=b,k=function(bt,_t,wt,St){var xt='click'===_t?'c':'pv'===_t?'b':'p';var kt=null,Et='';wt&&(Et=encodeURIComponent(wt._R||''),delete wt._R,kt=function(){var Tt=[];for(var Pt in wt)wt.hasOwnProperty(Pt)&&Tt.push(encodeURIComponent(Pt+'\x03'+wt[Pt]));return('c'===xt?'&_K=':'&_P=')+Tt.join('%04').replace(/'/g,'%27')}());var Rt=function(){if(!St)return'c'===xt?'&_C=%04':null;var Tt=[];for(var Pt in St)St.hasOwnProperty(Pt)&&Tt.push(encodeURIComponent(Pt+'\x03'+St[Pt]));return('c'===xt?'&_C=':'&_L=')+Tt.join('%04').replace(/'/g,'%27')}(),It='';'p'===xt&&'richview'===_t&&(It='&_V=R');var Nt=['?s='+bt,It,'&t='+b.cacheBuster(),'&_I=','&_AO=','&_NOL=','&_R='+Et,kt,Rt].join('');return['https://geo.yahoo.com/'+xt,Nt].join('')},E=1,R='0.1.3',I={EVENT_TRIGGER_CLICK:{etrg:'click',usergenf:1},EVENT_TRIGGER_PRESS:{etrg:'press',usergenf:1},EVENT_TRIGGER_SWIPE:{etrg:'swipe',usergenf:1},EVENT_TRIGGER_SCROLL:{etrg:'scroll',usergenf:1},EVENT_TRIGGER_HOVER:{etrg:'hover',usergenf:1},EVENT_TRIGGER_DROP:{etrg:'drop',usergenf:1},EVENT_TRIGGER_DRAG:{etrg:'drag',usergenf:1},EVENT_TRIGGER_PINCH:{etrg:'pinch',usergenf:1},EVENT_TRIGGER_ORIENT:{etrg:'orient',usergenf:1}},T=function(bt){return function(){var _t=bt.apply(this,arguments);return new Promise(function(wt,St){function xt(kt,Et){try{var Rt=_t[kt](Et),It=Rt.value}catch(Nt){return void St(Nt)}return Rt.done?void wt(It):Promise.resolve(It).then(function(Nt){xt('next',Nt)},function(Nt){xt('throw',Nt)})}return xt('next')})}},P=Object.assign||function(bt){for(var wt,_t=1;_t<arguments.length;_t++)for(var St in wt=arguments[_t],wt)Object.prototype.hasOwnProperty.call(wt,St)&&(bt[St]=wt[St]);return bt},U=function(bt,_t){var wt={};for(var St in bt)0<=_t.indexOf(St)||Object.prototype.hasOwnProperty.call(bt,St)&&(wt[St]=bt[St]);return wt};const C='features',j=bt=>new Promise((_t,wt)=>{bt.onsuccess=({target:{result:St}})=>_t(St),bt.onerror=({target:{error:St}})=>wt(St)}),O=(()=>{var bt=T(function*(){const _t=yield j(self.indexedDB.open('serviceWorker',1));try{if(_t.objectStoreNames.contains(C)){const wt=_t.transaction(C,'readonly').objectStore(C);return j(wt.get('features'))}}finally{_t.close()}});return function(){return bt.apply(this,arguments)}})(),D=(()=>{var bt=T(function*(){const _t=yield O();return _t&&_t.values||{}});return function(){return bt.apply(this,arguments)}})(),A=(()=>{const bt=navigator.userAgent,_t=navigator.platform;if(_t){if(-1!==['Macintosh','MacIntel','MacPPC','Mac68K'].indexOf(_t))return!0;if(-1!==['iPhone','iPad','iPod'].indexOf(_t))return!0;if(-1!==['Win32','Win64','Windows','WinCE'].indexOf(_t))return!1}return!!/Android/.test(bt)||!!/iPad|iPhone|iPod/.test(bt)})(),L='offline',V='fetch',Y=bt=>new Promise((_t,wt)=>{bt.onsuccess=({target:{result:St}})=>_t(St),bt.onerror=({target:{error:St}})=>wt(St),bt.onupgradeneeded=({target:{result:St}})=>{const xt=St.createObjectStore(V,{keyPath:'url'});xt.createIndex('key',['createdTime','url','ttl'])}}),W=(()=>{var bt=T(function*(){const _t=yield Y(self.indexedDB.open(L,1));try{if(_t.objectStoreNames.contains(V)){const wt=_t.transaction(V,'readonly').objectStore(V),St=wt.openCursor(),xt=[];return yield new Promise(function(kt){St.onsuccess=function(Et){const Rt=Et.target.result;if(Rt){const{createdTime:It,retryCount:Nt,url:Tt}=Rt.value;xt.push({createdTime:It,retryCount:Nt,url:Tt}),Rt.continue()}else return kt(xt),xt},St.onerror=function(Et){fe(Et,{fr:'getAll',fr1:'requestError'}),kt(xt)}})}return Promise.resolve([])}catch(wt){return fe(wt,{fr:'getAll',fr1:'catchError'}),Promise.reject(wt)}finally{_t.close()}});return function(){return bt.apply(this,arguments)}})(),z=(()=>{var bt=T(function*(_t){let wt;try{wt=yield D(),wt=wt||{offlineBeacon:0}}catch(St){}if(wt&&1===parseInt(wt.offlineBeacon,10)){const St=yield Y(self.indexedDB.open(L,1));try{if(St.objectStoreNames.contains(V)){const xt=St.transaction(V,'readwrite').objectStore(V);return Y(xt.put({createdTime:Date.now(),retryCount:3,url:_t}))}return Promise.resolve(!1)}catch(xt){return Promise.reject(xt)}finally{St.close()}}return Promise.resolve(!1)});return function(){return bt.apply(this,arguments)}})(),M=(()=>{var bt=T(function*(_t){const wt=yield Y(self.indexedDB.open(L,1));try{if(wt.objectStoreNames.contains(V)){const St=wt.transaction(V,'readwrite').objectStore(V),xt=yield Y(St.get(_t));return xt?Y(St.put(P({},xt,{retryCount:--xt.retryCount}))):void 0}return fe(new Error('store not found : '+V),{fr:'decrementRetry'}),Promise.resolve(!1)}catch(St){return fe(St,{fr:'decrementRetry',fr1:'catchError'}),Promise.reject(St)}finally{wt.close()}});return function(){return bt.apply(this,arguments)}})(),K=(()=>{var bt=T(function*(_t){const wt=yield Y(self.indexedDB.open(L,1));try{if(wt.objectStoreNames.contains(V)){const St=wt.transaction(V,'readwrite').objectStore(V);return Y(St.delete(_t))}return fe(new Error('store not found : '+V),{fr:'remove'}),Promise.resolve(!1)}catch(St){return fe(St,{fr:'decrementRetry',fr1:'remove'}),Promise.reject(St)}finally{wt.close()}});return function(){return bt.apply(this,arguments)}})(),H='subscriptions',Z=bt=>new Promise((_t,wt)=>{bt.onsuccess=({target:{result:St}})=>_t(St),bt.onerror=({target:{error:St}})=>wt(St)}),ee=(()=>{var bt=T(function*(){const _t=yield Z(self.indexedDB.open('yahooNotifications'));try{if(_t.objectStoreNames.contains(H)){const wt=_t.transaction(H).objectStore(H);return Z(wt.get('push'))}}finally{_t.close()}});return function(){return bt.apply(this,arguments)}})(),te=(()=>{var bt=T(function*(){const _t=yield self.registration.pushManager.getSubscription();return _t?_t.endpoint:null});return function(){return bt.apply(this,arguments)}})(),ae=(()=>{var bt=T(function*(){const _t=Date.now(),[wt,St={}]=yield Promise.all([te(),ee()]);return delete St['type'],P({spaceId:'1197802003'},St,{version:'1.1.29',scope:self.registration.scope,subscription_endpoint:wt,metadataTime:Date.now()-_t})});return function(){return bt.apply(this,arguments)}})(),{unregisteredURL:ne}={pageViewURL:function(bt,_t){if('string'!=typeof bt&&'number'!=typeof bt)throw new Error('Spaceid is REQUIRED');if(parseInt(bt)!=bt)throw new Error('Spaceid is INVALID');x.time.newTime();var wt={_pl:17,_ms:x.time.ms,_ts:x.time.ts,A_v:'YI13N-BG-'+R,_gsqNo:E++};try{_t&&x.absorbValid(wt,_t)}catch(St){throw new Error('pageParams Invalid')}return k(bt,'pv',wt,null)},interactionURL:function(bt,_t,wt,St,xt){if('string'!=typeof bt&&'number'!=typeof bt)throw new Error('Spaceid is REQUIRED');if(parseInt(bt)!=bt)throw new Error('Spaceid is INVALID');if(!_t||'string'!=typeof _t||!I[_t])throw new Error('eventTrigger REQUIRED');if(!wt||'string'!=typeof wt)throw new Error('eventName REQUIRED');x.time.newTime();var kt={_pl:17,_ms:x.time.ms,_ts:x.time.ts,A_v:'YI13N-BG-'+R,etrg:I[_t].etrg,usergenf:I[_t].usergenf,outcm:wt,_gsqNo:E++};try{St&&x.absorbValid(kt,St)}catch(Et){throw new Error('pageParams Invalid')}if(xt){if('object'!=typeof xt||Array.isArray(xt))throw new Error('interactionParams is INVALID');try{xt=x.cloneValid(xt)}catch(Et){throw new Error('interactionParams are INVALID')}}return k(bt,'click',kt,xt)},unregisteredURL:function(bt,_t,wt){if('string'!=typeof bt&&'number'!=typeof bt)throw new Error('Spaceid is REQUIRED');if(parseInt(bt)!=bt)throw new Error('Spaceid is INVALID');if(!_t||'string'!=typeof _t)throw new Error('eventName REQUIRED');x.time.newTime();var St={_pl:17,_ms:x.time.ms,_ts:x.time.ts,A_v:'YI13N-BG-'+R,outcm:_t,_gsqNo:E++};try{wt&&x.absorbValid(St,wt)}catch(xt){throw new Error('pageParams Invalid')}return k(bt,'lv',St,null)}},ie='/_td_api/beacon/',oe='notification-sw',ce=bt=>(()=>{var _t=T(function*(...wt){let St,xt=!1;try{return St=yield bt(...wt),yield fetch(St,{mode:'no-cors',credentials:'include'}),!0}catch(kt){xt=!0,console.error(kt)}if(St&&!1===navigator.onLine&&xt){const{href:kt}=St;try{yield z(kt)}catch(Et){console.error(Et)}}});return function(){return _t.apply(this,arguments)}})(),le=bt=>ce((()=>{var _t=T(function*(wt){const{spaceId:St,bucket:xt}=yield ae(),{title:kt,uuid:Et,followId:Rt,msg_id:It,pl1:Nt,publisher_msg_id:Tt,evaluateBuckets:Pt,publish_time:Ut,timeline_name:Ft,url:Ct}=wt||{},Bt={msg_id:It,msg_type:Ft||'brknews',msg_txt:kt||'fallback notification',msg_format:'text',msg_sent_time:Ut,pstaid:Et,pl1:Nt,publisher_msg_id:Tt,aid:Rt,test:Pt||xt,t:Ut,_w:Ct};return Pt&&(Bt.stest=Pt),bt({spaceId:St,params:Bt})});return function(){return _t.apply(this,arguments)}})()),de=bt=>{return Object.keys(bt).filter(_t=>bt[_t]!==void 0).map(_t=>`${_t}=${bt[_t]}`).join('&')},ue=(()=>{var bt=T(function*(_t){if(!_t||!Array.isArray(_t)||0===_t.length)return!1;const wt=yield ae();try{const St=JSON.stringify(_t.map(function(xt){return P({},xt,wt)}));return yield fetch(ie+'batch/',{body:St,credentials:'include',method:'POST',mode:'no-cors'}),!0}catch(St){return!1}});return function(){return bt.apply(this,arguments)}})(),pe=ce((()=>{var bt=T(function*(_t){const wt=yield ae(),St=P({},_t,wt,{src:oe,code:'info'});return`${ie}info?${de(St)}`});return function(){return bt.apply(this,arguments)}})()),fe=ce((()=>{var bt=T(function*(_t,wt){const St=yield ae(),xt=P({},wt,St,{src:oe,code:'error',name:_t.name,message:_t.message});return`${ie}error?${de(xt)}`});return function(){return bt.apply(this,arguments)}})()),ge=le(({spaceId:bt,params:_t})=>{return ne(bt,'notification_received',_t)}),he=le(({spaceId:bt,params:_t})=>{return _t.msg_action='open',ne(bt,'notification_engaged',_t)}),me=le(({spaceId:bt,params:_t})=>{return _t.msg_action='dismissed',ne(bt,'notification_engaged',_t)}),ve=bt=>_t=>{return _t.waitUntil(T(function*(){try{yield bt(_t)}catch(wt){yield fe(wt)}})())},be='context',we=bt=>new Promise((_t,wt)=>{bt.onsuccess=({target:{result:St}})=>_t(St),bt.onerror=({target:{error:St}})=>wt(St)}),Se=(()=>{var bt=T(function*(){const _t=yield we(self.indexedDB.open('serviceWorker',1));try{if(_t.objectStoreNames.contains(be)){const wt=_t.transaction(be,'readonly').objectStore(be);return we(wt.get('context'))}}finally{_t.close()}});return function(){return bt.apply(this,arguments)}})(),xe=(()=>{var bt=T(function*(){const _t=yield Se();return _t&&_t.values||{}});return function(){return bt.apply(this,arguments)}})();var ke={"en-US":{"Service Unavailable":'Service Unavailable',"You have new notifications":'You have new notifications'},"ar-JO":{"Service Unavailable":'\u0627\u0644\u062E\u062F\u0645\u0629 \u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631\u0629',"You have new notifications":'\u0644\u062F\u064A\u0643 \u0631\u0633\u0627\u0626\u0644 \u0625\u0639\u0644\u0627\u0645 \u062C\u062F\u064A\u062F\u0629'},"de-DE":{"Service Unavailable":'Dienst nicht verf\xFCgbar',"You have new notifications":'Sie haben neue Benachrichtigungen'},"el-GR":{"Service Unavailable":'\u039C\u03B7 \u03B4\u03B9\u03B1\u03B8\u03AD\u03C3\u03B9\u03BC\u03B7 \u03C5\u03C0\u03B7\u03C1\u03B5\u03C3\u03AF\u03B1',"You have new notifications":'\u0388\u03C7\u03B5\u03C4\u03B5 \u03BD\u03AD\u03B5\u03C2 \u03B5\u03B9\u03B4\u03BF\u03C0\u03BF\u03B9\u03AE\u03C3\u03B5\u03B9\u03C2'},"es-ES":{"Service Unavailable":'Servicio no disponible',"You have new notifications":'Tienes notificaciones nuevas'},"es-US":{"Service Unavailable":'Servicio no disponible',"You have new notifications":'Tienes notificaciones nuevas'},"fr-BE":{"Service Unavailable":'Service indisponible',"You have new notifications":'Vous avez de nouvelles notifications'},"fr-CA":{"Service Unavailable":'Service indisponible',"You have new notifications":'Vous avez de nouvelles notifications'},"fr-FR":{"Service Unavailable":'Service indisponible',"You have new notifications":'Vous avez de nouvelles notifications'},"id-ID":{"Service Unavailable":'Layanan Tidak Tersedia',"You have new notifications":'Anda memiliki notifikasi baru'},"it-IT":{"Service Unavailable":'Servizio non disponibile',"You have new notifications":'Hai nuove notifiche'},"nl-BE":{"Service Unavailable":'Service niet beschikbaar',"You have new notifications":'Je hebt nieuwe meldingen'},"pt-BR":{"Service Unavailable":'Servi\xE7o indispon\xEDvel',"You have new notifications":'Voc\xEA tem novas notifica\xE7\xF5es'},"ro-RO":{"Service Unavailable":'Serviciu indisponibil',"You have new notifications":'Ave\u021Bi notific\u0103ri noi'},"sv-SE":{"Service Unavailable":'Tj\xE4nsten \xE4r inte tillg\xE4nglig',"You have new notifications":'Det finns nya meddelanden'},"vi-VN":{"Service Unavailable":'D\u1ECBch v\u1EE5 hi\u1EC7n kh\xF4ng ho\u1EA1t \u0111\u1ED9ng',"You have new notifications":'B\u1EA1n c\xF3 th\xF4ng b\xE1o m\u1EDBi'}};const Ee=/^:([a-z])(\((.+)\))?/;var Re=()=>{const bt={};return{use({locale:_t,defaultCurrency:wt,messageBundle:St}){return bt.locale=_t,bt.defaultCurrency=wt,bt.messageBundle=St,this.translate.bind(this)},translate(_t,...wt){const St=this._buildKey(_t),xt=bt.messageBundle[St];if(xt){const kt=_t.slice(1).map(this._extractTypeInfo),Et=wt.map((Rt,It)=>this._localize(Rt,kt[It]));return this._buildMessage(xt,...Et)}return`Error: ${St} translation missing!`},_localizers:{s:_t=>_t&&_t.toLocaleString(bt.locale),c:(_t,wt)=>_t&&_t.toLocaleString(bt.locale,{style:'currency',currency:wt||bt.defaultCurrency}),n:(_t,wt)=>_t&&_t.toLocaleString(bt.locale,{minimumFractionDigits:wt,maximumFractionDigits:wt})},_extractTypeInfo(_t){const wt=Ee.exec(_t);return wt?{type:wt[1],options:wt[3]}:{type:'s',options:''}},_localize(_t,{type:wt,options:St}){return this._localizers[wt](_t,St)},_buildKey(_t){const wt=kt=>kt.replace(Ee,''),St=wt(_t[_t.length-1]);return _t.slice(0,-1).reduceRight((kt,Et,Rt)=>`${wt(Et)}{${Rt}}${kt}`,St)},_buildMessage(_t,...wt){return _t.replace(/{(\d)}/g,(St,xt)=>wt[+xt])}}};let Ie;const Ne=(()=>{var bt=T(function*(){if(Ie)return Ie;let _t='en-US';try{const wt=yield xe();_t=wt.lang||_t}catch(wt){}return Ie=Re().use({locale:_t,defaultCurrency:'USD',messageBundle:ke[_t]||ke['en-US']||{}}),Ie});return function(){return bt.apply(this,arguments)}})(),Te=/\/\/(?:[^\/\.]+\.)?([^\/\.]+)\.yahoo\.com\/?(.*)$/,Ue={ng:!0,za:!0,au:!0,nz:!0,cn:!0,h1:!0,hk:!0,in:!0,id:!0,jp:!0,kr:!0,my:!0,ph:!0,pk:!0,aa:!0,sg:!0,tw:!0,k1:!0,th:!0,vn:!0,xa:!0,xe:!0,me:!0,at:!0,b2:!0,b3:!0,ch:!0,cz:!0,de:!0,dk:!0,ee:!0,es:!0,ct:!0,fi:!0,fr:!0,uk:!0,gr:!0,hu:!0,ie:!0,it:!0,lt:!0,lv:!0,nl:!0,no:!0,pl:!0,ro:!0,se:!0,tr:!0,ua:!0,ca:!0,cf:!0,qc:!0,mx:!0,us:!0,e1:!0,espanol:!0,www:!0,ar:!0,bo:!0,br:!0,cl:!0,co:!0,ec:!0,gf:!0,gy:!0,pe:!0,py:!0,sr:!0,uy:!0,ve:!0},Fe={celebridades:'celebrity',cine:'movies',cinema:'movies',kino:'movies',nachrichten:'news',noticias:'news',notizie:'news',people:'celebrity',stars:'celebrity',"vida-estilo":'style'},Ce={all:!0,fp:!0},Be=(bt,_t)=>{if(!bt)return null;const wt=new RegExp('[?&]'+_t+'=([^&#]*)','i'),St=wt.exec(bt);return St?St[1]:null},je=(bt,_t,wt)=>{const St=new RegExp('([?&])'+_t+'=.*?(&|$)','i'),xt=-1===bt.indexOf('?')?'?':'&';return bt.match(St)?bt.replace(St,'$1'+_t+'='+wt+'$2'):bt+xt+_t+'='+wt},Oe=(bt,_t,wt)=>{if(!bt||-1===bt.indexOf('yahoo.com')||!wt||!_t)return bt;const St=bt.match(Te);if(St){'omg'===wt&&(wt='celebrity');const xt='all'===wt?'fp':wt;let kt=Ue[St[1]]?'fp':St[1];const Et=St[2];kt=Fe[kt]||kt,_t&&!_t.endsWith('/')&&(_t=`${_t}/`),xt===kt?bt=`${_t}${Et}?re=0`:Ce[xt]&&(bt=`${_t}${kt}/${Et}?re=0`)}return bt},Le='notificationStatusByTag',qe=bt=>new Promise((_t,wt)=>{bt.onsuccess=({target:{result:St}})=>_t(St),bt.onerror=({target:{error:St}})=>wt(St),bt.onupgradeneeded=({target:{result:St}})=>{const xt=St.createObjectStore(Le,{keyPath:'tag'});xt.createIndex('key',['tag'])}}),Ye=()=>{return'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(bt){const _t=0|16*Math.random(),wt='x'===bt?_t:8|3&_t;return wt.toString(16)})},We=(bt,_t={},wt=2e3)=>{return new Promise((St,xt)=>{const kt=setTimeout(()=>{xt(new Error('Evalute fetch timed out'))},wt);fetch(bt,_t).then(Et=>{clearTimeout(kt),St(Et)}).catch(Et=>{clearTimeout(kt),xt(Et)})})},ze=(()=>{var bt=T(function*(_t,wt=3){let St;try{if(St=yield qe(self.indexedDB.open('yahooNotificationsQueue',1)),St.objectStoreNames.contains(Le)){const xt=St.transaction(Le,'readwrite').objectStore(Le),kt=Date.now();let Et;try{Et=yield qe(xt.get(_t))}catch(Tt){}Et=Et||{};let Rt=Et.counter||0;const It=Et.createdTime;Rt>=wt&&(Rt=0),It&&((kt-It)/1e3>=30?Rt++:It>kt&&fe(new Error('Previous time is greater than current time'),{fr:'getTagDetailsAfterUpdatingCounter'}));const Nt={createdTime:kt,counter:Rt||1,tag:_t};return yield qe(xt.put(Nt)),Nt}return Promise.resolve(!1)}catch(xt){return Promise.reject(xt)}finally{St&&St.close()}});return function(){return bt.apply(this,arguments)}})(),Me=(()=>{var bt=T(function*(_t,wt='en-US',St='US'){if(!_t||!_t.data)return _t;const{experiments:xt=[]}=_t.data;if(!Array.isArray(xt))return _t;const{length:kt}=xt;let Et=0,Rt='noexp',It='';if(kt){const Nt=Ye();let Tt;try{const Pt=yield We(`${'https://evalplus-web-api.data.yahoo.com/v1/buckets'}?psn=fpnotification.${St.toLowerCase()}.${wt.toLowerCase()}&rid=${Nt}`,{credentials:'include'},6e3),Ut=yield Pt.json(),{configuration:Ft={},logString:Ct=''}=Ut||{},{notificationBucket:Bt}=Ft;It=Ct,Bt&&xt.some(function({bucket:jt}={},Ot){return jt&&Bt===jt&&(Et=Ot+1,!0)})}catch(Pt){fe(Pt,{fr:'getBucketBasedPayload',fr1:Nt})}return 0===Et?(Tt=_t,Et=0,Rt='control'):(Tt={data:xt[Et-1]||{},meta:_t.meta},Rt=Tt.data.bucket||'bucketWithoutName'),Tt.meta=Tt.meta||{},Tt.meta.pl1=Rt,Tt.meta.evaluateBuckets=It,Tt}return _t});return function(){return bt.apply(this,arguments)}})(),Ke=(()=>{var bt=T(function*(_t){let xt,wt='en-US',St='US',kt={};try{const Jt=yield xe();wt=Jt.lang||wt,St=Jt.region||St,xt=Jt.site}catch(Jt){}try{kt=yield D()}catch(Jt){}let Et=yield Me(_t,wt,St);Et=Et||{data:{},meta:{fallback:!0},rmeta:{}};const Rt=yield Ne(),It=Rt`You have new notifications`,Nt='https://s.yimg.com/cv/apiv2/notifications/default-notif-img.png-168x168.png',Pt=!(Et.data&&Et.data.title)||Et.meta&&Et.meta.fallback,Ut=y(),{registration:Ft={}}=self,{scope:Ct='https://www.yahoo.com/'}=Ft,{image:Lt=Nt,title:Vt=It,summary:Gt='',uuid:Bt,followId:jt,timeline_name:Ot,notification_id:Dt,publish_time:At}=Et.data||{};let{url:qt}=Et.data||{};const Yt=Ot||'Breaking News';let Wt=Yt;qt=qt&&(kt.convertNotificationUrl&&Oe(qt,Ct,xt)||qt)||Ct;try{let Jt=yield ze(Yt);Jt=Jt||{},Wt=`${Yt}_${Jt.counter||1}`}catch(Jt){fe(new Error('details for tag not found in store'),{fr:'createNotification'})}const zt=Pt?Nt:void 0,Mt=Ut?zt:Lt,Kt=Et.meta||{},{pl1:Qt=0}=Kt,Ht=U(Kt,['pl1']),{nid:$t,rid:Xt}=Et.rmeta||{};return{title:Vt,body:Gt,icon:Mt,tag:Wt,badge:'https://s.yimg.com/cv/apiv2/notifications/YCon_Badge_90_90_2.png',data:P({},Ht,{fallback:Pt,useNNS:Ut,title:Vt,body:Gt,url:qt,uuid:Bt,followId:jt,timeline_name:Ot,msg_id:Xt,notification_id:Dt,publish_time:At,publisher_msg_id:$t,pl1:Qt,notification_shown:Date.now()})}});return function(){return bt.apply(this,arguments)}})(),Qe=(bt,{prefix:_t=''}={})=>{return Promise.all(bt.filter(wt=>{return!_t||!wt.startsWith(_t)}).map(wt=>{return caches.delete(wt)})).then(()=>!0).catch(wt=>{return fe(wt,{fr:'_deleteCacheNames'}),!1})},He=(bt,_t,{excludes:wt=new Set}={})=>{return Promise.all(bt.filter(St=>{const{url:xt}=St;let kt=!0;if(wt&&wt.size)for(const Et of wt.keys())if(Et){const Rt=new RegExp(Et);Rt.test(xt)&&(kt=!1)}return kt}).map((()=>{var St=T(function*(xt){const kt=yield caches.open(_t);return kt.delete(xt)});return function(){return St.apply(this,arguments)}})())).then(()=>{return!0}).catch(St=>{return fe(St,{fr:'_deleteKeysForCacheName'}),!1})},$e=(()=>{var bt=T(function*(_t,wt,{overrideCache:St=!0}={}){let xt,kt=!1;if(!_t||!Array.isArray(wt))return kt;if(wt=wt.filter(String),!wt.length)return kt;try{xt=yield D(),xt=xt||{precache:0}}catch(Et){fe(Et,{fr:'precache',fr1:'featuresFailed'})}if(xt&&1===parseInt(xt.precache,10)){let Et;try{Et=yield caches.open(_t)}catch(Rt){fe(Rt,{fr:'precache',fr1:'cacheOpenFailed'})}if(Et)try{yield Promise.all(wt.map((()=>{var Rt=T(function*(It){if(!St){const Ut=yield Et.match(It);if(Ut)return Promise.resolve();pe({event:'precache_delayed',url:It})}const Nt=je(It,'stamp','0'),Tt=yield fetch(Nt,{headers:{"X-SI":0}}),Pt=Tt.clone();return yield Et.put(It,Pt)});return function(){return Rt.apply(this,arguments)}})())),pe({event:'precache'}),kt=!0}catch(Rt){fe(Rt,{fr:'precache',fr1:'cacheAddAllFailed'})}}else;return kt});return function(){return bt.apply(this,arguments)}})(),Xe=(()=>{var bt=T(function*(){let _t=!1;try{const wt=yield caches.keys();_t=yield Qe(wt)}catch(wt){fe(wt,{fr:'deleteAllCacheNames',fr1:'cacheKeysFailed'})}return _t});return function(){return bt.apply(this,arguments)}})(),Je=(()=>{var bt=T(function*(_t,{excludes:wt}={}){let St=!1;if(!_t)return yield St;try{const xt=yield caches.open(_t),kt=yield xt.keys();pe({event:'deleteCacheKeysForCacheName'}),St=yield He(kt,_t,{excludes:wt})}catch(xt){fe(xt,{fr:'deleteCacheKeysForCacheName'})}return St});return function(){return bt.apply(this,arguments)}})(),Ze=(()=>{var bt=T(function*(_t){let wt=!1;if(!_t)return yield wt;try{const St=yield caches.keys();wt=yield Qe(St,{prefix:_t}),pe({event:'deleteCacheNamesWithoutPrefix'})}catch(St){fe(St,{fr:'deleteCacheNamesWithoutPrefix',fr1:'cacheKeysFailed',prefix:_t})}return wt});return function(){return bt.apply(this,arguments)}})(),et=bt=>{const _t=['_P','_K'].some(wt=>{const St=Be(bt,wt);return!!St&&(bt=je(bt,wt,`${St}%04_o%030`),!0)});return _t?bt:`${bt}&_o=0`},at=(()=>{let bt={};return{release:()=>{bt={}},open:(()=>{var _t=T(function*(wt){const St=bt[wt];return St?St:(bt[wt]=yield caches.open(wt),bt[wt])});return function(){return _t.apply(this,arguments)}})()}})(),rt=(bt,_t,wt=20)=>{return new Promise((St,xt)=>{let kt=!1;const Et=setTimeout(()=>{kt=!0,xt(new Error('cache match timed out'))},wt);at.open(bt).then(Rt=>{return kt?void 0:Rt.match(_t)}).then(Rt=>{kt||(clearTimeout(Et),St(Rt))}).catch(Rt=>{kt||xt(Rt)})})},nt=(bt,_t,wt=!1)=>(()=>{var St=T(function*(xt){if(fe(xt,{fr:'_unableToResolve',redirect:wt,strategy:_t,url:bt.request.url}),wt){const{url:Et}=bt.request,Rt='cacheFirst'===_t?Et:je(Et,'swnocache','1'),It=new Request(Rt,{redirect:'manual'});let Nt;try{Nt=yield fetch(It)}catch(Tt){}if(Nt)return Nt}const kt=yield Ne();return new Response(`<h1>${kt`Service Unavailable`}</h1>`,{status:503,statusText:'Service Unavailable',headers:new Headers({"Content-Type":'text/html'})})});return function(){return St.apply(this,arguments)}})(),it=(()=>{let bt=0;return(()=>{var _t=T(function*(wt,St,xt,kt,Et){const Rt=kt.clone();Et=Et||wt.request.url;let It;try{It=yield D(),It=It||{cache:0}}catch(Nt){fe(Nt,{fr:'_cacheResponse',fr1:'featuresFailed',strategy:xt,url:Et})}if(!It)return kt;if(1!==It.cache)return Xe(),at.release(),kt;try{const Nt=yield at.open(St);Nt.put(Et||wt.request,Rt).then(T(function*(){if(0==bt||5<bt){if('storage'in navigator&&'estimate'in navigator.storage){const Pt=[Et].concat('/?start_url=homescreenicon&requesttype=appshell&apptype=pwa'.split(',')),{usage:Ut,quota:Ft}=yield navigator.storage.estimate(),Ct=Math.round(100*(Ut/Ft));Ct>=80&&Je(St,{excludes:new Set(Pt)})}0==bt?++bt:5<bt&&(bt=0)}else++bt})).catch(function(){})}catch(Nt){fe(Nt,{fr:'_cacheResponse',fr1:'cacheOpenFailed',strategy:xt,url:Et})}return kt});return function(){return _t.apply(this,arguments)}})()})(),ot=(bt,_t)=>{const wt=bt.request.url;return T(function*(){try{const xt=yield rt(_t,bt.request);if(!xt)throw new Error('cache is empty');return xt}catch(xt){}try{const xt=yield bt.preloadResponse;if(xt)return xt}catch(xt){fe(xt,{fr:'_cacheFirstStrategy',fr1:'preloadFailed',strategy:'cacheFirst',url:wt})}let St;try{St=yield fetch(bt.request)}catch(xt){const kt=yield nt(bt,'cacheFirst',!0)(xt);return kt}if(St)try{it(bt,_t,'cacheFirst',St)}catch(xt){}return St})()},st=bt=>{return T(function*(){let _t;try{_t=yield fetch(bt,{credentials:'include',mode:'no-cors'})}catch(wt){yield z(bt)}return _t&&200!==_t.status&&(yield z(bt)),_t})()},ct=(()=>{var bt=T(function*(_t,wt,St,xt){const kt=_t.request.url;try{const Et=yield fetch(St,{headers:{"X-SI":0}});it(_t,wt,'networkFirst',Et,xt)}catch(Et){fe(Et,{fr:'_networkFirstStrategy',fr1:'networkWithoutCredentialsFailed',sanitizedUrl:xt,strategy:'networkFirst',url:kt})}});return function(){return bt.apply(this,arguments)}})(),lt=(bt,_t,wt,St=!1)=>{return T(function*(){const xt=bt.request.url;wt=wt||xt;try{const kt=yield bt.preloadResponse;if(kt)return kt}catch(kt){fe(kt,{fr:'_networkFirstStrategy',fr1:'preloadFailed',sanitizedUrl:wt,strategy:'networkFirst',url:xt})}try{const kt=yield fetch(bt.request);return setTimeout(function(){const Et=je(xt,'stamp','0');ct(bt,_t,Et,wt).catch(function(){})},300),kt}catch(kt){fe(kt,{fr:'_networkFirstStrategy',fr1:'networkFailed',sanitizedUrl:wt,strategy:'networkFirst',url:xt})}try{const kt=yield rt(_t,wt);if(!kt)throw new Error('cache is empty');return kt}catch(kt){const Et=yield nt(bt,'networkFirst',St)(kt);return Et}})()},dt=(bt,{cacheFirstPatterns:wt=[],cacheName:_t,networkFirstPatterns:St=[],networkFirstPatternsWithFailureRedirect:xt=[],offlineBeaconQueuePatterns:kt=[]}={})=>{if(_t&&(wt.length||St.length||xt.length)){if('undefined'==typeof A||A){const{url:Rt,method:It}=bt.request;if('GET'===It&&-1===Rt.indexOf('swnocache=1')){let Pt,Ft,Ct,Bt,Nt=!1,Tt=!1,Ut=Rt;for(Ft=0,Ct=St.length;Ft<Ct;Ft++)if(Bt=St[Ft],Bt&&Bt.test(Rt)){Nt=!0,Ut=Rt.match(Bt)[1],Pt='networkFirst';break}for(Ft=0,Ct=xt.length;Ft<Ct;Ft++)if(Bt=xt[Ft],Bt&&Bt.test(Rt)){Nt=!0,Tt=!0,Pt='networkFirst';break}if(!Nt)for(Ft=0,Ct=wt.length;Ft<Ct;Ft++)if(Bt=wt[Ft],Bt&&Bt.test(Rt)){Nt=!0,Pt='cacheFirst';break}if(!Nt){if(!1===navigator.onLine){let jt=!1;for(Ft=0,Ct=kt.length;Ft<Ct;Ft++)if(Bt=kt[Ft],Bt&&Bt.test(Rt)){jt=!0;break}if(jt)return void bt.respondWith(st(Rt))}return}'cacheFirst'===Pt?bt.respondWith(ot(bt,_t)):'networkFirst'==Pt&&bt.respondWith(lt(bt,_t,Ut,Tt))}}}},ut=(()=>{var bt=T(function*(){let _t;try{_t=yield W()}catch(wt){}if(_t&&Array.isArray(_t)){try{yield ue(_t.map(function(wt){return{fr:'offlineBeacon',offlineBeacon:wt}}))}catch(wt){}return Promise.all(_t.map((()=>{var wt=T(function*({retryCount:St,url:xt}={}){const kt=et(xt);let Et;try{Et=yield fetch(kt,{credentials:'include',mode:'no-cors'})}catch(Rt){}Et?yield K(xt):0>=St?yield K(xt):yield M(xt)});return function(){return wt.apply(this,arguments)}})()))}return Promise.resolve(!1)});return function(){return bt.apply(this,arguments)}})(),pt=(()=>{var bt=T(function*(){return!!self.registration.navigationPreload&&(pe({event:'navigationEnable',fr:'navigation',fr1:'preloadEnabled'}),yield self.registration.navigationPreload.enable(),!0)});return function(){return bt.apply(this,arguments)}})();self.addEventListener('install',ve(()=>{return Promise.all([$e('1.1.29-ysw','/?start_url=homescreenicon&requesttype=appshell&apptype=pwa'.split(',')),pe({event:'install',is_update:!!self.registration.active}),self.skipWaiting()])})),self.addEventListener('activate',ve(()=>{const bt=self.navigator;return bt&&bt.permissions&&bt.permissions.query&&bt.permissions.query({name:'notifications'}).then(_t=>{_t&&(_t.onchange=function(){pe({event:'userPermissionUpdate',newState:_t.state})})}),Promise.all([pt(),Ze('1.1.29'),T(function*(){return pe({event:'activate'})})()])}));const gt=[/^https:\/\/s\.yimg\.com\/(os|aaq)\/yc\/[a-zA-Z0-9-\.]+\/[a-z]+\.js$/,/^https:\/\/s\.yimg\.com\/aaq\/vzm\/[a-zA-Z0-9-\.\_]+\.js$/,/^https:\/\/s\.yimg\.com\/aaq\/(c|caas)\/[a-zA-Z0-9\.\_\-]+\.(css|js)$/,/^https:\/\/s\.yimg\.com\/aaq\/hc\/homepage-pwa\-[a-zA-Z0-9\.\-]+\.js$/,/^https:\/\/s\.yimg\.com\/aaq\/notifications\/js\/sh\-[a-zA-Z0-9\.\-]+\.js$/,/^https:\/\/s\.yimg\.com\/ss\/rapid\-[a-zA-Z0-9\.]+\.js$/,/^https:\/\/s\.yimg\.com\/aaq\/cmp\/version\/[a-zA-Z0-9\.]+\/cmp?[a-zA-Z0-9\.\-]+\.js$/,/^https:\/\/s\.yimg\.com\/aaq\/wf\/wf-[a-zA-Z0-9\.-]+\.js$/,/^https:\/\/s\.yimg\.com\/(os|aaq|zz\/combo\?os)\/yaft\/yaft-[a-zA-Z0-9-\.]+js/,/^https:\/\/s\.yimg\.com\/(os|aaq)\/fp\/css\/[a-zA-Z0-9-\.\/]+css$/,/^https:\/\/s\.yimg\.com\/(os|aaq)\/fp\/atomic-css\.[a-zA-Z0-9-]+\.css$/,/^https:\/\/assets\.video\.yahoo\.net\/[a-zA-Z0-9-\.\/]+css$/,/^https:\/\/s\.yimg\.com\/(os|aaq)\/fuji-style\/css\/[a-zA-Z0-9-\.]+css$/,/^https:\/\/s\.yimg\.com\/(os|aaq)\/fp\/[a-zA-Z0-9-\.\/\_]+js$/,/^https:\/\/s\.yimg\.com\/(os|aaq)\/yc\/(css|js)\/[a-zA-Z0-9-\.]+(css|js)$/,/^https:\/\/s\.yimg\.com\/rq\/[a-zA-Z0-9-\.\-\/\_]+(css|js)$/,/^https:\/\/s\.yimg\.com\/nn\/lib\/metro\/g\/myy\/(history|livestream-manager|video-manager-standalone)_[a-zA-Z0-9\.]+\.js$/,/^https:\/\/s\.yimg\.com\/rx\/builds\/[a-zA-Z0-9-\.\/]+(css|js|html)$/],ht=[/(^https:\/\/[a-zA-Z0-9\-\.]+\.yahoo\.com\/?\?start_url=homescreenicon&requesttype=appshell&apptype=pwa)/],mt=[],vt=[/^https:\/\/[a-zA-Z0-9\-\.]+\.yahoo\.com\/_td_api\/beacon\//,/^https:\/\/[a-zA-Z0-9\-\.]+\.yahoo\.com\/p\.gif\?/,/^https:\/\/geo\.yahoo\.com\/p\/?\?/];self.addEventListener('fetch',bt=>{return dt(bt,{cacheFirstPatterns:gt,cacheName:'1.1.29-ysw',networkFirstPatterns:ht,networkFirstPatternsWithFailureRedirect:mt,offlineBeaconQueuePatterns:vt})}),self.addEventListener('sync',ve(bt=>{return'online'===bt.tag?ut():Promise.resolve()})),self.addEventListener('notificationclick',ve(bt=>{bt.notification.close();const _t='https://www.yahoo.com/',wt=bt.notification.data||{url:_t,chrome_fallback:!0},St=wt.url||_t,xt=new URL(St.replace(/&amp;/g,'&'));if(xt.searchParams&&!xt.searchParams.has('.tsrc')){const kt=xt.searchParams.get('tsrc')||'notification-brknews';xt.searchParams.set('.tsrc',kt)}return Promise.all([pe(P({},wt,{event:'notificationclick',notification_interaction:Date.now()})),he(wt),self.clients.openWindow(xt)])})),self.addEventListener('notificationclose',ve(bt=>{const _t=bt.notification.data||{chrome_fallback:!0};return Promise.all([pe(P({},_t,{event:'notificationclose',notification_interaction:Date.now()})),me(_t)])})),self.addEventListener('push',ve((()=>{var bt=T(function*(_t){let St,wt={data:{},meta:{fallback:!0}};try{_t.data?wt=_t.data.json():St=new Error('"data" property is missing on push payload')}catch(Tt){St=Tt}const{title:xt,body:kt,icon:Et,tag:Rt,badge:It,data:Nt}=yield Ke(wt);try{const Tt=yield self.registration.getNotifications({tag:Rt});Tt&&Tt.forEach(function(Pt){Pt.close()})}catch(Tt){}return Promise.all([self.registration.showNotification(xt,{body:kt,icon:Et,tag:Rt,badge:It,data:Nt,renotify:!0,requireInteraction:!Nt.fallback}),Promise.resolve(St&&fe(St,Nt)),ge(Nt),pe(P({},Nt,{event:'push'}))])});return function(){return bt.apply(this,arguments)}})()));const yt=new class{constructor(){var bt=this;this.handlers=new Map,this.handleMessage=(()=>{var _t=T(function*({origin:wt,data:{method:xt,params:kt}={},ports:[St]}){if(!bt.isValidOrigin(wt)){const It=new Error('Invalid post message origin');return fe(It,{origin:wt})}let Et=null,Rt=null;try{const It=bt.handlers.get(xt);if(!It)throw new ReferenceError(`No handler for: "${xt}"`);Rt=yield It(...kt)}catch(It){Et=It.message,yield fe(It,{method:xt})}St&&St.postMessage({error:Et,result:Rt})});return function(){return _t.apply(this,arguments)}})()}handle(bt,_t){this.handlers.set(bt,_t)}isValidOrigin(bt){return self.registration.scope.startsWith(bt)}};yt.handle('precache',T(function*(){let _t;try{pe({event:'postmessage',handler:'precache'}),_t=yield $e('1.1.29-ysw','/?start_url=homescreenicon&requesttype=appshell&apptype=pwa'.split(','),{overrideCache:!1})}catch(wt){return wt}return _t})),self.addEventListener('message',ve(yt.handleMessage))})();
//# sourceMappingURL=mwc-sw.min.js.map
